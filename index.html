<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Traffic Dashboard</title>
    <link rel="stylesheet" href="shared.css" />
    <link rel="stylesheet" href="landing.css" />
    <link rel="stylesheet" href="route.css" />
    <link rel="stylesheet" href="overview.css" />
    <!-- TomTom Maps SDK CSS -->
    <link
      rel="stylesheet"
      href="https://api.tomtom.com/maps-sdk-for-web/cdn/6.x/6.19.2/maps/maps.css"
    />
    <!-- Leaflet CSS for fallback map -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    />
  </head>
  <body>
    <div id="landing">
      <nav class="sidebar">
        <div class="sidebar-title">Routes</div>
        <a class="route-btn" href="route1.html" data-index="0"
          ><span class="dot" style="background: #3b82f6"></span> Route 1</a
        >
        <a class="route-btn" href="route2.html" data-index="1"
          ><span class="dot" style="background: #10b981"></span> Route 2</a
        >
        <a class="route-btn" href="route3.html" data-index="2"
          ><span class="dot" style="background: #f59e0b"></span> Route 3</a
        >
        <a class="route-btn" href="route4.html" data-index="3"
          ><span class="dot" style="background: #ef4444"></span> Route 4</a
        >
        <a class="route-btn" href="route5.html" data-index="4"
          ><span class="dot" style="background: #8b5cf6"></span> Route 5</a
        >
        <a class="route-btn" href="route6.html" data-index="5"
          ><span class="dot" style="background: #ec4899"></span> Route 6</a
        >
        <a class="route-btn" href="route7.html" data-index="6"
          ><span class="dot" style="background: #14b8a6"></span> Route 7</a
        >
        <a class="route-btn" href="route8.html" data-index="7"
          ><span class="dot" style="background: #f43f5e"></span> Route 8</a
        >
        <a class="route-btn" href="route9.html" data-index="8"
          ><span class="dot" style="background: #0ea5e9"></span> Route 9</a
        >
        <a class="route-btn" href="route10.html" data-index="9"
          ><span class="dot" style="background: #a855f7"></span> Route 10</a
        >
        <div class="sidebar-divider"></div>
        <a class="route-btn overview-btn" href="overview.html"
          >Project Overview</a
        >
      </nav>

      <main class="map-area">
        <div class="header-bar">
          <h1>Traffic Dashboard</h1>
          <label class="mta-toggle">
            <span class="mta-label">MTA Subway</span>
            <span class="mta-spinner"></span>
            <div class="toggle-track">
              <input type="checkbox" id="mta-toggle" />
              <span class="toggle-thumb"></span>
            </div>
          </label>
        </div>
        <div class="map-content">
          <div id="map-error" class="map-error"></div>
        </div>
        <!-- Route detail panel – shown in-page instead of navigating away -->
        <div id="route-panel" class="route-panel" style="display: none">
          <div class="route-header">
            <button class="back-btn" id="panel-close">← Back</button>
            <h2 id="panel-title">Route</h2>
            <span class="sub" id="panel-sub"></span>
          </div>
          <div class="route-body" id="panel-body"></div>
        </div>
        <!-- Project overview panel – shown in-page, no reload -->
        <div id="overview-panel" class="route-panel" style="display: none">
          <div class="route-header">
            <button class="back-btn" id="overview-close">← Back</button>
            <h2>Project Overview</h2>
          </div>
          <div class="overview-body" id="overview-body">
            <!-- Add your project overview content here -->
          </div>
        </div>
      </main>
    </div>

    <!-- cache-bust the JS to ensure fresh version with diagnostics -->
    <script src="landing.js?v=4"></script>
  </body>
</html>
